<!DOCTYPE html>

<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>WeatherLogger</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="assets/components/css/materialize.min.css">
    <link rel="stylesheet" href="app/css/main.css">
    <link rel="stylesheet" href="app/css/input-colors.css">
    <link rel="stylesheet" href="app/css/preloader.css">
    <script type="text/javascript" src="assets/components/js/angular.min.js"></script>
    <script type="text/javascript" src="app/js/angular-main.js"></script>
    <script type="text/javascript" src="assets/components/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="assets/components/js/Chart.min.js"></script>
    <script type="text/javascript" src="app/js/services/weather-service.js"></script>
    <script type="text/javascript" src="app/js/services/line-chart-service.js"></script>
    <script type="text/javascript" src="app/js/controllers/general-controller.js"></script>
    <script type="text/javascript" src="app/js/controllers/temperature-controller.js"></script>
    <script type="text/javascript" src="app/js/controllers/humidity-controller.js"></script>
    <script type="text/javascript" src="app/js/controllers/dew-point-controller.js"></script>
    <script type="text/javascript" src="assets/components/js/jquery.min.js"></script>
    <script type="text/javascript" src="assets/components/js/materialize.min.js"></script>
    <script type="text/javascript" src="app/js/tabs.js"></script>
  </head>

  <body ng-app="weatherLogger">

    <div class="row">
      <div class="col s12">
        <ul class="tabs tabs-fixed-width">
          <li class="tab col s3">
            <a class="grey-text tab" data-color="grey" href="#general">
              General
            </a>
          </li>

          <li class="tab col s3">
            <a class="orange-text tab" data-color="orange" href="#temperature">
              Temperature
            </a>
          </li>

          <li class="tab col s3">
            <a class="blue-text tab" data-color="blue" href="#humidity">
              Humidity
            </a>
          </li>

          <li class="tab col s3">
            <a class="green-text tab" data-color="green" href="#dew_point">
              Dew point
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- GENERAL TAB CONTENT -->
    <div id="general" ng-controller="generalController">
      <div class="row">

        <div ng-show="loading" class="preloader-wrapper small active generalLoader">
          <div class="spinner-layer spinner-blue">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>

          <div class="spinner-layer spinner-red">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>

          <div class="spinner-layer spinner-yellow">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>

          <div class="spinner-layer spinner-green">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>

        <div class="col s12 m6 offset-m3">
          <div class="card-panel grey lighten-4 clearfix generalCard">
            <span class="black-text">
              <div class="row">
                <h4 class="left">Conditions now</h4>
                <a ng-click="updateData()" class="refresh btn-floating btn-small waves-effect
                                                 waves-light grey lighten-1 right">
                  <i class="material-icons">refresh</i>
                </a>
              </div>

              <div class="row" ng-show="!loading">
                <span class="col m4 s12 orange-text lighten-1">
                  <span>Temperature</span>
                  <h4>{{data.temperature}} Cº</h4>
                </span>

                <span class="col m4 s12 blue-text lighten-1">
                  <span>Humidity</span>
                  <h4>{{data.relativeHumidity}} %</h4>
                </span>

                <span class="col m4 s12 green-text lighten-1">
                  <span>Dew point</span>
                  <h4>{{data.dewPoint}} Cº</h4>
                </span>

                <span>Updated {{lastUpdate}}</span>
              </div>
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- TEMPERATURE TAB CONTENT -->
    <div id="temperature" ng-controller="temperatureController">
      <div>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s8 m2 offset-m5 offset-s2">
              <input id="tempChartDate" type="date" ng-model="date"
                      ng-change="drawChart()" required="true"/>
            </div>

            <a ng-click="drawChart()" class="refresh btn-floating btn-small waves-effect
                                             waves-light grey lighten-1 right">
              <i class="material-icons">refresh</i>
            </a>
          </div>
        </form>
      </div>

      <div class="preloader-wrapper active" ng-if="loading">
        <div class="spinner-layer spinner-red-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>

      <div ng-show="!loading && !empty">
        <div class="center-align">
          <div class="chip">
            MIN: {{minimumTemperature}} Cº
          </div>

          <div class="chip">
            MAX: {{maximumTemperature}} Cº
          </div>
        </div>

        <canvas id="tempChart" height="100"></canvas>
      </div>

      <div class="center-align" ng-if="!loading && empty">
        <p class="text-grey lighten-1">There is no data to draw a chart</p>
      </div>

    </div>

    <!-- HUMIDITY TAB CONTENT -->
    <div id="humidity" ng-controller="humidityController">
      <div>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s8 m2 offset-m5 offset-s2">
              <input id="humidityChartDate" type="date" ng-model="date"
                      ng-change="drawChart()" required="true"/>
            </div>

            <a ng-click="drawChart()" class="refresh btn-floating btn-small waves-effect
                                             waves-light grey lighten-1 right">
              <i class="material-icons">refresh</i>
            </a>
          </div>
        </form>
      </div>

      <div class="preloader-wrapper active" ng-if="loading">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>

      <div ng-show="!loading && !empty">
        <div class="center-align">
          <div class="chip">
            MIN: {{minimumHumidity}} %
          </div>

          <div class="chip">
            MAX: {{maximumHumidity}} %
          </div>
        </div>

        <canvas id="humidityChart" height="100"></canvas>
      </div>

      <div class="center-align" ng-if="!loading && empty">
        <p class="text-grey lighten-1">There is no data to draw a chart</p>
      </div>
    </div>

    <!-- DEW POINT TAB CONTENT -->
    <div id="dew_point" ng-controller="dewPointController">
      <div>
        <form class="col s12">
          <div class="row">
            <div class="input-field col s8 m2 offset-m5 offset-s2">
              <input id="dewPointChartDate" type="date" ng-model="date"
                      ng-change="drawChart()" required="true"/>
            </div>

            <a ng-click="drawChart()" class="refresh btn-floating btn-small waves-effect
                                             waves-light grey lighten-1 right">
              <i class="material-icons">refresh</i>
            </a>
          </div>
        </form>
      </div>

      <div class="preloader-wrapper active" ng-if="loading">
        <div class="spinner-layer spinner-green-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>

      <div ng-show="!loading && !empty">
        <div class="center-align">
          <div class="chip">
            MIN: {{minimumDewPoint}} Cº
          </div>

          <div class="chip">
            MAX: {{maximumDewPoint}} Cº
          </div>
        </div>

        <canvas id="dewPointChart" height="100"></canvas>

        <div class="center-align" ng-if="!loading && empty">
          <p class="text-grey lighten-1">There is no data to draw a chart</p>
        </div>
      </div>

    </div>

  </body>

</html>
